{"ast":null,"code":"import _asyncToGenerator from \"/Users/keshav/Development/react-in-angular-poc-with-watch/angular-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport { selectSharedState, selectSelectedSection, selectSharedForm } from './store/shared-state.reducer';\nimport * as SharedStateActions from './store/shared-state.actions';\nimport { getOrCreateSharedStore } from '../../../../shared/store';\nimport * as i0 from \"@angular/core\";\nexport let SharedStateFacade = /*#__PURE__*/(() => {\n  class SharedStateFacade {\n    constructor(store) {\n      this.store = store;\n      this.state$ = this.store.select(selectSharedState);\n      this.selectedSection$ = this.store.select(selectSelectedSection);\n      this.form$ = this.store.select(selectSharedForm);\n    }\n    /**\n     * Imperative snapshot for ease of interop with template two-way bindings.\n     * Uses the shared store to avoid introducing async gaps.\n     */\n    get snapshot() {\n      return getOrCreateSharedStore().getState();\n    }\n    setSelectedSection(sectionId) {\n      this.store.dispatch(SharedStateActions.selectSection({\n        sectionId\n      }));\n    }\n    updateForm(changes) {\n      this.store.dispatch(SharedStateActions.updateForm({\n        changes\n      }));\n    }\n    /**\n     * Helper for consumers that prefer a one-off synchronous read from ngrx store.\n     */\n    readOnce() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        return firstValueFrom(_this.state$);\n      })();\n    }\n    static {\n      this.ɵfac = function SharedStateFacade_Factory(t) {\n        i0.ɵɵinvalidFactory();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: SharedStateFacade,\n        factory: SharedStateFacade.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return SharedStateFacade;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}