{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared-state/shared-state.facade\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(state) {\n      this.state = state;\n      this.sidebarItems = [{\n        id: 'overview',\n        label: 'Overview'\n      }, {\n        id: 'versions',\n        label: 'Versions'\n      }, {\n        id: 'collaborators',\n        label: 'Collaborators'\n      }];\n      this.selectedId = 'overview';\n      this.sharedState = null;\n      this.angularNoteTitle = '';\n      this.angularNoteDescription = '';\n      this.syncFromState(this.state.snapshot);\n    }\n    ngOnInit() {\n      this.subscription = this.state.state$.subscribe(value => {\n        this.syncFromState(value);\n      });\n    }\n    ngOnDestroy() {\n      this.subscription?.unsubscribe();\n    }\n    onSidebarSelect(evt) {\n      const nextId = evt.detail.id;\n      this.selectedId = nextId;\n      this.state.setSelectedSection(nextId);\n    }\n    onAngularTitleChange(value) {\n      if (this.sharedState?.form.title !== value) {\n        this.state.updateForm({\n          title: value\n        });\n      }\n    }\n    onAngularDescriptionChange(value) {\n      if (this.sharedState?.form.description !== value) {\n        this.state.updateForm({\n          description: value\n        });\n      }\n    }\n    syncFromState(state) {\n      this.sharedState = state;\n      this.selectedId = state.selectedSection;\n      this.angularNoteTitle = state.form.title;\n      this.angularNoteDescription = state.form.description;\n    }\n    static {\n      this.ɵfac = function HomeComponent_Factory(t) {\n        return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.SharedStateFacade));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HomeComponent,\n        selectors: [[\"app-home\"]],\n        decls: 37,\n        vars: 14,\n        consts: [[1, \"container\"], [\"heading\", \"Notebook Sections\", 3, \"sidebar-select\"], [1, \"content\"], [1, \"content__header\"], [1, \"content__grid\"], [1, \"panel\"], [1, \"panel__title\"], [\"heading\", \"Shared Note Editor\"], [\"for\", \"angular-title\", 1, \"panel__label\"], [\"id\", \"angular-title\", 1, \"panel__input\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"angular-description\", 1, \"panel__label\"], [\"id\", \"angular-description\", \"rows\", \"5\", 1, \"panel__textarea\", 3, \"ngModelChange\", \"ngModel\"], [1, \"panel__meta\"], [1, \"content__state\"]],\n        template: function HomeComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"react-notebook-sidebar\", 1);\n            i0.ɵɵpipe(2, \"json\");\n            i0.ɵɵlistener(\"sidebar-select\", function HomeComponent_Template_react_notebook_sidebar_sidebar_select_1_listener($event) {\n              return ctx.onSidebarSelect($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 2)(4, \"header\", 3)(5, \"h1\");\n            i0.ɵɵtext(6, \"Hybrid Workspace\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"p\");\n            i0.ɵɵtext(8, \"React elements and Angular components stay in sync through a shared state store.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"section\", 4)(10, \"div\", 5)(11, \"h2\", 6);\n            i0.ɵɵtext(12, \"React form element\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(13, \"react-shared-form\", 7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"div\", 5)(15, \"h2\", 6);\n            i0.ɵɵtext(16, \"Angular controls\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"label\", 8);\n            i0.ɵɵtext(18, \"Title\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"input\", 9);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_19_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.angularNoteTitle, $event) || (ctx.angularNoteTitle = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_19_listener($event) {\n              return ctx.onAngularTitleChange($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"label\", 10);\n            i0.ɵɵtext(21, \"Description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"textarea\", 11);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function HomeComponent_Template_textarea_ngModelChange_22_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.angularNoteDescription, $event) || (ctx.angularNoteDescription = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_textarea_ngModelChange_22_listener($event) {\n              return ctx.onAngularDescriptionChange($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"div\", 12)(24, \"span\");\n            i0.ɵɵtext(25, \"Selected section: \");\n            i0.ɵɵelementStart(26, \"strong\");\n            i0.ɵɵtext(27);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(28, \"span\");\n            i0.ɵɵtext(29);\n            i0.ɵɵpipe(30, \"date\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(31, \"section\", 13)(32, \"h3\");\n            i0.ɵɵtext(33, \"Store snapshot\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"pre\");\n            i0.ɵɵtext(35);\n            i0.ɵɵpipe(36, \"json\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵattribute(\"items\", i0.ɵɵpipeBind1(2, 7, ctx.sidebarItems))(\"selected-id\", ctx.selectedId);\n            i0.ɵɵadvance(18);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.angularNoteTitle);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.angularNoteDescription);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.sharedState == null ? null : ctx.sharedState.selectedSection);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"Last updated: \", i0.ɵɵpipeBind2(30, 9, ctx.sharedState == null ? null : ctx.sharedState.form.lastUpdated, \"shortTime\"), \"\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(36, 12, ctx.sharedState));\n          }\n        },\n        dependencies: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.JsonPipe, i3.DatePipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}